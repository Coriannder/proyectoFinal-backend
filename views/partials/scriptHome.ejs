<script>

    let id = ''

    document.querySelectorAll(".product").forEach(
        row => {row.addEventListener("click", e => {
            id = e.currentTarget.getAttribute("id");
        });
    });

    const btnGuardar = document.getElementById('btnGuardar')

    btnGuardar.addEventListener('click' , async e => {
        const cantidad = document.getElementById("inputCantidad").value || '1'

        const producto = {
            id: id,
            cantidad: cantidad
        };
        let response = await fetch('/cart/addProduct', {
            method: 'POST',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json ; charset=utf-8' },
            body: JSON.stringify({producto: producto})
        })
    })

</script>
